{% extends 'base.html' %}
{% load static %}

{% block content %}
<body class="login-page">
<div class="h-screen w-full flex justify-center items-center bg-blue-100">
  
  <!-- Desktop Version (Hidden on Mobile) -->
  <div class="hidden md:flex w-full h-full p-8 rounded-3xl bg-blue-100">
    <!-- Left Section: Login Form -->
    <div class="w-full h-full p-12 justify-center items-center">
      <div class="text-left mb-6">
        <h2 class="text-3xl font-extrabold text-black">Get Started Now</h2>
        <p class="text-gray-500">Enter your credentials to access your account</p>
      </div>

      <!-- Login Form -->
      <form method="POST" action="">
        {% csrf_token %}
        <div class="mb-4">
          <label for="username" class="block text-gray-700 font-semibold mb-2">Username</label>
          <input type="text" name="username" placeholder="Username"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
        </div>

        <div class="mb-4">
          <label for="password" class="block text-gray-700 font-semibold mb-2">Password</label>
          <div class="relative">
            <input type="password" id="password-field" name="password" placeholder="Password"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
            <span class="absolute right-4 top-4 text-gray-400 cursor-pointer" id="toggle-password">
              <i class="fas fa-eye" id="toggle-password-icon"></i>
            </span>
          </div>
        </div>

        <div>
          <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-300">
            Log in
          </button>
        </div>
      </form>

      <div class="text-center mt-6">
        <p class="text-sm text-gray-500">Don't have an account? <a href="{% url 'main:register' %}" class="text-blue-600 hover:underline">Register here</a></p>
      </div>
    </div>

    <!-- Right Section: Image -->
    <div class="w-full flex justify-center items-center bg-blue-600 p-10 rounded-3xl">
      <img src="{% static 'images/logo.png' %}" alt="Snapstore Logo" class="w-full h-auto" />
    </div>
  </div>

  <!-- Mobile Version (Hidden on Desktop) -->
  <div class="md:hidden w-full max-w-md p-8 rounded-3xl bg-white shadow-lg">
    <!-- Mobile: Login Form -->
    <div class="text-left mb-6">
      <h2 class="text-2xl font-extrabold text-black">Welcome Back!</h2>
      <p class="text-sm text-gray-500">Log in to access your account</p>
    </div>

    <form method="POST" action="">
      {% csrf_token %}
      <div class="mb-4">
        <label for="username" class="block text-gray-700 font-semibold mb-2">Username</label>
        <input type="text" name="username" placeholder="Username"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
      </div>

      <div class="mb-4">
        <label for="password" class="block text-gray-700 font-semibold mb-2">Password</label>
        <div class="relative">
          <input type="password" id="password-field-mobile" name="password" placeholder="Password"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
          <span class="absolute right-4 top-4 text-gray-400 cursor-pointer" id="toggle-password-mobile">
            <i class="fas fa-eye" id="toggle-password-icon-mobile"></i>
          </span>
        </div>
      </div>

      <div>
        <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-300">
          Log in
        </button>
      </div>
    </form>

    <div class="text-center mt-6">
      <p class="text-sm text-gray-500">Don't have an account? <a href="{% url 'main:register' %}" class="text-blue-600 hover:underline">Register here</a></p>
    </div>
  </div>

</div>
</body>

<!-- JavaScript for password toggle visibility -->
<script>
  const togglePassword = document.getElementById('toggle-password');
  const passwordField = document.getElementById('password-field');
  const togglePasswordIcon = document.getElementById('toggle-password-icon');

  togglePassword.addEventListener('click', function () {
    const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordField.setAttribute('type', type);

    if (type === 'text') {
      togglePasswordIcon.classList.remove('fa-eye');
      togglePasswordIcon.classList.add('fa-eye-slash');
    } else {
      togglePasswordIcon.classList.remove('fa-eye-slash');
      togglePasswordIcon.classList.add('fa-eye');
    }
  });

  // Mobile password toggle
  const togglePasswordMobile = document.getElementById('toggle-password-mobile');
  const passwordFieldMobile = document.getElementById('password-field-mobile');
  const togglePasswordIconMobile = document.getElementById('toggle-password-icon-mobile');

  togglePasswordMobile.addEventListener('click', function () {
    const type = passwordFieldMobile.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordFieldMobile.setAttribute('type', type);

    if (type === 'text') {
      togglePasswordIconMobile.classList.remove('fa-eye');
      togglePasswordIconMobile.classList.add('fa-eye-slash');
    } else {
      togglePasswordIconMobile.classList.remove('fa-eye-slash');
      togglePasswordIconMobile.classList.add('fa-eye');
    }
  });
</script>

{% endblock content %}
